

### 01. 登录

之前做了一个本地版本的，首先这个肯定需要登录的，于是简单查了一下登录的流程

https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html

![](/img/api-login.2fcc9f35.jpg)

- 用户打开微信小程序，并点击登录按钮或相关功能入口。
- 小程序调用wx.login方法，向微信服务器发送登录请求。
- 微信服务器接收到登录请求后，生成一个临时登录凭证（code），并将该凭证返回给小程序。
- 小程序通过wx.request方法将临时登录凭证发送给开发者服务器。
- 开发者服务器接收到临时登录凭证后，可以调用微信提供的登录凭证校验接口，向微信服务器发送请求，验证凭证的有效性和合法性。
- 微信服务器验证通过后，返回一个用户唯一标识（openid）和会话密钥（session_key）给开发者服务器。
- 开发者服务器根据自身业务逻辑，生成一个用户登录态标识（例如生成一个token），并将其返回给小程序。
- 小程序接收到开发者服务器返回的用户登录态标识后，可以将其保存在本地，用于后续的用户认证和请求验证。
- 用户登录成功后，小程序可以根据业务需要展示相应的内容和功能，同时可以通过调用微信提供的其他接口获取用户信息。
  

### 02. ssl

在测试 login 的时候需要填写域名，域名需要 https 证书，证书要收费....

不清楚 https 原理看这个 https://www.zhihu.com/question/340572894/answer/2205326015，解释的还算清楚