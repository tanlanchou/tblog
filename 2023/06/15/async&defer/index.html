<!DOCTYPE html>
<html lang="zh-Hans">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="async &amp; defer" />
    <meta name="hexo-theme-A4" content="v1.7.0" />
    <link rel="alternate icon" type="image/webp" href="/tblog/img/favicon.webp">
    <title>æˆå¤©ä¹±å†™ | ä»£ç å’Œç”Ÿæ´»</title>

    
        
            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/highlight/style1.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/a11y-dark.min.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/reset.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/markdown.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/fonts.css">
 
            <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
            

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/ui.css">
 
            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/style.css">

    
            <!--è¿”å›é¡¶éƒ¨css-->
            
                
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/returnToTop.css">

                
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/unicons.css">

            
            
                <!--ç›®å½•-->
                
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/toc.css">

            

        
    

    
        
<link rel="stylesheet" href="/tblog/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/tblog/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/tblog/atom.xml" title="æˆå¤©ä¹±å†™" type="application/atom+xml">
</head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/tblog/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/tblog/">æˆå¤©ä¹±å†™</a> 
            <span class="description">ä¹±å†™ä¸œè¥¿çš„åœ°æ–¹ï¼Œè®²è®²ä»£ç å’Œç”Ÿæ´»</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/tblog/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/tblog/list/">æ–‡ç« </a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    async &amp; defer
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2024-12-02</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š1.6k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š6åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#async-amp-defer"><span class="post-toc-text">async &amp; defer</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="post-toc-text">1. åŸºç¡€çŸ¥è¯†</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-async"><span class="post-toc-text">2. async</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-defer"><span class="post-toc-text">3. defer</span></a></li></ol></li></ol></li></ol>
            
        
        <h1 id="async-amp-defer"><a href="#async-amp-defer" class="headerlink" title="async &amp; defer"></a>async &amp; defer</h1><h3 id="1-åŸºç¡€çŸ¥è¯†"><a href="#1-åŸºç¡€çŸ¥è¯†" class="headerlink" title="1. åŸºç¡€çŸ¥è¯†"></a>1. åŸºç¡€çŸ¥è¯†</h3><p>ä»ä¹‹å‰æˆ‘å­¦ä¹ çš„æµè§ˆå™¨è§£æè¿‡ç¨‹ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œæµè§ˆå™¨é¡ºåºè§£æï¼Œé‡åˆ°javascriptï¼Œå°±ä¼šé˜»å¡ï¼Œå¹¶ä¸”ä¼šæ‰§è¡Œ javascript, ä¹Ÿä¼šé˜»å¡</p>
<p>æˆ‘ä»¬åšä¸€ä¸ªç®€å•çš„æµ‹è¯•</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjBkb65gsX_AhXnQPUHHasODVkQFnoECBYQAQ&amp;url=https%3A%2F%2Fcloud.google.com%2Fcdn%3Fhl%3Dzh-cn&amp;usg=AOvVaw3iWKHtZqUXGJwR-4dEGXk8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>æˆ‘åŠ å…¥äº†ä¸€æ®µ google çš„è¿æ¥, :)</p>
<p>è‚¯å®šä¸èƒ½è®¿é—®ï¼Œæ‰€ä»¥è¯´ï¼Œæµè§ˆå™¨åœ¨è¶…æ—¶ä¹‹å‰ä¸‹é¢çš„æ‰€æœ‰ä»£ç éƒ½æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬å°† script æ”¾åœ¨ </body> ä¹‹å‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjBkb65gsX_AhXnQPUHHasODVkQFnoECBYQAQ&amp;url=https%3A%2F%2Fcloud.google.com%2Fcdn%3Fhl%3Dzh-cn&amp;usg=AOvVaw3iWKHtZqUXGJwR-4dEGXk8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¥½å¤„æ˜¯å¯ä»¥æœ‰2ç‚¹</p>
<ol>
<li>é¢„è§£æå™¨å¯ä»¥æå‰åŠ è½½ï¼Œè™½ç„¶ script ä¸æ˜¯å¼‚æ­¥çš„ï¼Œä½†æ˜¯å®é™…å°±æ˜¯å¼‚æ­¥çš„ã€‚</li>
<li>å°±ç®—é˜»å¡äº†ï¼Œè‡³å°‘å‰é¢çš„ä»£ç  cssï¼Œhtml æ˜¯å¯ä»¥åŠ è½½çš„</li>
</ol>
<h3 id="2-async"><a href="#2-async" class="headerlink" title="2. async"></a>2. async</h3><ol>
<li>å½“ script å…ƒç´ ä½¿ç”¨ async å±æ€§æ—¶ï¼Œè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œå°†æ˜¯å¼‚æ­¥çš„ã€‚</li>
<li>å¼‚æ­¥åŠ è½½çš„è„šæœ¬ä¸ä¼šé˜»å¡ HTML é¡µé¢çš„è§£æå’Œæ¸²æŸ“è¿‡ç¨‹ã€‚</li>
<li>è„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œé¡ºåºä¸å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºæ— å…³ï¼Œå“ªä¸ªè„šæœ¬å…ˆåŠ è½½å®Œæˆå°±å…ˆæ‰§è¡Œã€‚</li>
<li>å¼‚æ­¥è„šæœ¬åŠ è½½å®Œæˆåä¼šç«‹å³æ‰§è¡Œï¼Œä¸ç®¡ HTML é¡µé¢çš„åŠ è½½çŠ¶æ€ã€‚</li>
<li>å¦‚æœå¤šä¸ªå¼‚æ­¥è„šæœ¬ç›¸äº’ä¾èµ–ï¼Œæ‰§è¡Œé¡ºåºå¯èƒ½ä¼šå—åˆ°å½±å“ã€‚</li>
</ol>
<p>çœ‹äº†è¿™ä¸ªæè¿°ï¼Œå°±å¼€å§‹ç–‘æƒ‘, æˆ‘ä»¬çŸ¥é“åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œè¿™ä¸ªæˆ‘å¯ä»¥ç†è§£ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸ºä»€ä¹ˆæ˜¯å¼‚æ­¥çš„ï¼Ÿ</p>
<p>å› ä¸ºåœ¨ä¹‹å‰çš„å­¦ä¹ å½“ä¸­ï¼Œä¸»çº¿ç¨‹è§£æhtmlï¼Œé‡åˆ° script å¼€å§‹åŠ è½½å’Œæ‰§è¡Œ(äº¤ç»™jså¼•æ“)ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æ˜¯åŒæ­¥çš„ï¼Œå¹¶ä¸”ä¼šåœæ­¢æ¸²æŸ“é¡µé¢ã€‚</p>
<p>åŸå› æ˜¯å› ä¸º jså¼•æ“å’Œæ¸²æŸ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œjsä¸­ä»»ä½•æ“ä½œdomï¼Œcssçš„ä»£ç ï¼Œéƒ½å¯èƒ½å¯¼è‡´å›æµæˆ–è€…é‡ç»˜ã€‚</p>
<p>äºæ˜¯æˆ‘åœ¨ä¸€æ®µæˆ‘æµ‹è¯•çš„htmlä¸­åŠ å…¥äº†ä¸€æ®µä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./javascript/test.js&quot;</span> <span class="keyword">async</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> d = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">200000000</span>;i++) &#123;</span><br><span class="line">     b += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>() - d);</span><br></pre></td></tr></table></figure>

<p>å¾—å‡ºäº†ä¸€ä¸ªç»“è®ºï¼ŒåŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œæ‰§è¡Œæ˜¯åŒæ­¥çš„(chatgptå®³äººå•Šâ€¦)</p>
<p>å› ä¸ºåŠ è½½çš„æ—¶å€™å¹¶æ²¡æœ‰å½±å“å…¶ä»–jsçš„æ‰§è¡Œï¼Œç„¶è€ŒåŠ è½½å®Œæˆç«‹åˆ»å¼€å§‹æ‰§è¡Œï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">19999999867108864 test.js:7</span><br><span class="line">6647 test.js:8</span><br></pre></td></tr></table></figure>

<p>ä¸­é—´è¿™6ç§’å¹¶æ²¡æœ‰æ‰§è¡Œå…¶ä»–jsä»£ç ï¼Œäºæ˜¯è¯´æ˜äº†ä¸€åˆ‡ã€‚</p>
<p>å†æµ‹è¯•ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯å…ˆåˆ°å…ˆå¾—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./javascript/test.js&quot;</span> <span class="keyword">async</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./javascript/test1.js&quot;</span> <span class="attr">async</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`-------------test start---------------`</span>)</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> d = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">200000000</span>;i++) &#123;</span><br><span class="line">     b += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>() - d);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`-------------test end---------------`</span>)</span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶äº†ä¸€ä»½ <strong>test.js</strong> ä»£ç , å¹¶ä¸”æ–°å¢äº†è¾“å‡ºï¼Œä½†æ˜¯ä¸€ç›´æ˜¯ <strong>test.js</strong> å…ˆæ‰§è¡Œ, åˆç»™ <strong>test.js</strong> å¢åŠ äº†å¤§é‡æ³¨é‡Šï¼Œå¯¼è‡´ä»–åŠ è½½é€Ÿåº¦å˜æ…¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-------------test1 start--------------- test1.js:8 1 </span><br><span class="line">19999999867108864 test1.js:9 1 </span><br><span class="line">6677 test1.js:10 </span><br><span class="line">-------------test1 end--------------- test.js:1 </span><br><span class="line">-------------test start--------------- test.js:7 </span><br><span class="line">19999999867108864 test.js:8 </span><br><span class="line">7001 test.js:9 </span><br><span class="line">-------------test end---------------</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç½‘é€Ÿå†³å®šä¸€åˆ‡ï¼ŒåŠ è½½å®Œæˆåç«‹åˆ»æ‰§è¡Œï¼Œå…ˆåˆ°å…ˆå¾—ï¼ŒåŠ è½½å¼‚æ­¥ï¼Œæ‰§è¡ŒåŒæ­¥ã€‚</p>
<h3 id="3-defer"><a href="#3-defer" class="headerlink" title="3. defer"></a>3. defer</h3><ul>
<li>å½“ <script> å…ƒç´ ä½¿ç”¨ defer å±æ€§æ—¶ï¼Œè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡ŒåŒæ­¥ã€‚</li>
<li>å»¶è¿ŸåŠ è½½çš„è„šæœ¬ä¸ä¼šé˜»å¡ HTML é¡µé¢çš„è§£æï¼Œä½†ä¼šåœ¨ HTML é¡µé¢è§£æå®Œæ¯•åæŒ‰ç…§å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</li>
<li>å»¶è¿Ÿè„šæœ¬åœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®ŒæˆåŠ è½½å’Œæ‰§è¡Œï¼Œå³åœ¨æ–‡æ¡£è§£ææœŸé—´æ‰§è¡Œã€‚</li>
<li>å¦‚æœå¤šä¸ªå»¶è¿Ÿè„šæœ¬ç›¸äº’ä¾èµ–ï¼Œæ‰§è¡Œé¡ºåºä¼šæŒ‰ç…§å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºæ¥æ‰§è¡Œã€‚</li>
</ul>
<blockquote>
<p>HTML é¡µé¢è§£æå®Œæ¯•å</p>
</blockquote>
<p>äºæ˜¯æˆ‘ç¬¬ä¸€ååº”æ˜¯åŠ å…¥ä¸€ä¸ªäº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œæ‰§è¡Œåˆå§‹åŒ–æ“ä½œå’Œæ“ä½œ DOM çš„ä»£ç </span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¯æƒœçš„æ˜¯ï¼Œä¸¤ä¸ªjsåœ¨è¿™ä¸ªäº‹ä»¶ä¹‹å‰å·²ç»æ‰§è¡Œäº†, ä¸€æ—¶åŠä¼šå„¿æƒ³ä¸å‡ºæœ‰ä»€ä¹ˆèƒ½å¤Ÿæµ‹è¯•ï¼Œäºæ˜¯æˆ‘åœ¨æœ€åçš„éƒ¨åˆ†åŠ å…¥äº†è¾“å‡ºä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`end`</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœæ˜¯ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(`end`);</span><br><span class="line">javascript defer è¾“å‡º</span><br><span class="line">console.log(`trigger DOMContentLoaded`)</span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ç¡®å®šäº†æ˜¯åœ¨è§£æå®Œæˆä»¥åè§£æï¼Œç„¶ååˆè¯•äº†è¯• <code>async</code>, ä¼šåœ¨ <code>DOMContentLoaded</code> ä¹‹å‰è§¦å‘ï¼Œé¡ºä¾¿æµ‹è¯•äº†ä¸€ä¸‹æ˜¯å¦ä¼šåŠ è½½å®Œæˆä¹‹åä¸­æ–­è§£æï¼Œç«‹åˆ»æ‰§è¡Œã€‚</p>
<p>äºæ˜¯åŠ å…¥äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªéœ€è¦å¾ˆé•¿æ—¶é—´åŠ è½½çš„<span class="variable constant_">HTML</span>é¡µé¢&lt;/h1&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä¸‹é¢æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ–‡æœ¬åŒºåŸŸï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;100&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  ...å¤§é‡æ–‡å­—</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>æœç„¶ä¼˜å…ˆæ‰§è¡Œäº† <code>async</code> çš„ <strong>js</strong>.</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><p>async å’Œ defer éƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œasync åŠ è½½å®Œæˆä¹‹åç«‹åˆ»æ‰§è¡Œï¼Œä¸­æ–­ä¸»çº¿ç¨‹è§£æã€‚ defer ç­‰å¾…ä¸»çº¿ç¨‹è§£æå®Œæˆä¹‹åï¼ŒæŒ‰é¡ºåºè§£æã€‚</p>
<p>è¿™å°±æ˜¯ä»–ä»¬çš„ä½œç”¨å’Œæœ€å¤§çš„åŒºåˆ«ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ <code>&lt;scrip asycn&gt;&lt;/script&gt;</code> è¿™æ ·æ˜¯ä¸æ”¯æŒçš„ï¼Œéœ€è¦å¼•å…¥å¤–éƒ¨è„šæœ¬.</p>
<h3 id="4-èµ„æ–™"><a href="#4-èµ„æ–™" class="headerlink" title="4. èµ„æ–™"></a>4. èµ„æ–™</h3><p><a target="_blank" rel="noopener" href="https://zh.javascript.info/script-async-defer">è„šæœ¬ï¼šasyncï¼Œdefer</a></p>
<p>defer å±æ€§ï¼š</p>
<p>å½“ <script> å…ƒç´ ä½¿ç”¨ defer å±æ€§æ—¶ï¼Œè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œä¹Ÿæ˜¯å¼‚æ­¥çš„ã€‚<br>å»¶è¿ŸåŠ è½½çš„è„šæœ¬ä¸ä¼šé˜»å¡ HTML é¡µé¢çš„è§£æï¼Œä½†ä¼šåœ¨ HTML é¡µé¢è§£æå®Œæ¯•åæŒ‰ç…§å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚<br>å»¶è¿Ÿè„šæœ¬åœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®ŒæˆåŠ è½½å’Œæ‰§è¡Œï¼Œå³åœ¨æ–‡æ¡£è§£ææœŸé—´æ‰§è¡Œã€‚<br>å¦‚æœå¤šä¸ªå»¶è¿Ÿè„šæœ¬ç›¸äº’ä¾èµ–ï¼Œæ‰§è¡Œé¡ºåºä¼šæŒ‰ç…§å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºæ¥æ‰§è¡Œã€‚<br>ç¤ºä¾‹ï¼š</p>
<p>html<br>Copy code</p>
<script src="script1.js" defer></script>
<script src="script2.js" defer></script>
<p>åŒºåˆ«ï¼š</p>
<p>async å±æ€§è¡¨ç¤ºè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚è„šæœ¬åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œï¼Œä¸è€ƒè™‘å®ƒä»¬åœ¨ HTML ä¸­çš„é¡ºåºï¼Œå¯èƒ½ä¼šå¯¼è‡´è„šæœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»é—®é¢˜ã€‚<br>defer å±æ€§è¡¨ç¤ºè„šæœ¬çš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œä½†è„šæœ¬çš„æ‰§è¡Œä¼šåœ¨ HTML é¡µé¢è§£æå®Œæ¯•åæŒ‰é¡ºåºæ‰§è¡Œï¼Œå¯ä»¥ä¿æŒè„šæœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-06-15</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« tommy</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tblog/tags/web/'>
                            web
                        </a>
                    
                        <a href='/tblog/tags/javascript/'>
                            javascript
                        </a>
                    
                        <a href='/tblog/tags/async/'>
                            async
                        </a>
                    
                        <a href='/tblog/tags/defer/'>
                            defer
                        </a>
                    
                        <a href='/tblog/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/'>
                            æµè§ˆå™¨æ€§èƒ½ä¼˜åŒ–
                        </a>
                    
                </span>
             
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/tblog/2023/06/20/vue_setup_created_before_created/'>beforeCreate, created vs setup</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/tblog/2023/06/15/typescript_type/">typescript ç±»å‹æœ‰å“ªäº›ï¼Ÿ</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2023 China 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
        
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlight.min.js"></script>

        
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlightjs-line-numbers.js"></script>


        
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/randomHeaderContent.js"></script>

        <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
        
            
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

            
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/returnToTop.js"></script>

        
        
        <!--ç›®å½•-->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
            
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/toc.js"></script>

        
    




<script src="/tblog/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/tblog/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/tblog/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/tblog/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/tblog/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/tblog/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/tblog/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>